[gd_scene load_steps=10 format=3 uid="uid://mhj7u0g04rsf"]

[ext_resource type="Script" path="res://Scripts/Characters/Players/Player.cs" id="1_h2jtc"]
[ext_resource type="PackedScene" uid="uid://bayi3q6g7tfeu" path="res://Components/HealthComponent.tscn" id="2_6xq0b"]
[ext_resource type="PackedScene" uid="uid://pboc8bctkcgo" path="res://Scenes/Characters/Rig.tscn" id="2_lcasi"]
[ext_resource type="Script" path="res://Scripts/Cameras/SmoothCamera.cs" id="2_lk27u"]
[ext_resource type="PackedScene" uid="uid://kc7ss02qveji" path="res://Scenes/Characters/Abilities/Dash.tscn" id="3_qo22u"]
[ext_resource type="Script" path="res://Scripts/Characters/Abilities/AttackCast.cs" id="4_esjuq"]
[ext_resource type="PackedScene" uid="uid://20cn14n1xljs" path="res://Scenes/Characters/Abilities/AreaAttack.tscn" id="6_s07e6"]
[ext_resource type="PackedScene" uid="uid://dill0y6lenoao" path="res://Scenes/UI/UserInterface.tscn" id="8_4ymuf"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_2mbrv"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("SpringArm", "HorizontalPivot", "VerticalPivot", "RigPivot", "Rig", "AttackCast", "HealthComponent", "CollisionShape", "AreaAttack") groups=["PlayerGroup"]]
collision_layer = 5
script = ExtResource("1_h2jtc")
SpringArm = NodePath("SpringArm3D")
HorizontalPivot = NodePath("HorizontalPivot")
VerticalPivot = NodePath("HorizontalPivot/VerticalPivot")
RigPivot = NodePath("RigPivot")
Rig = NodePath("RigPivot/Rig")
AttackCast = NodePath("RigPivot/Rig/RayAttachment/RayCast3D")
HealthComponent = NodePath("HealthComponent")
CollisionShape = NodePath("CollisionShape3D")
AreaAttack = NodePath("RigPivot/AreaAttack")

[node name="HealthComponent" parent="." node_paths=PackedStringArray("Body") instance=ExtResource("2_6xq0b")]
Body = NodePath("..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_2mbrv")

[node name="SpringArm3D" type="SpringArm3D" parent="." node_paths=PackedStringArray("Target")]
spring_length = 6.0
script = ExtResource("2_lk27u")
Target = NodePath("..")
Decay = 5.0

[node name="Camera3D" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 0.942647, 0.33379, 0, -0.33379, 0.942647, 0, 3.85775, 6.33137)

[node name="HorizontalPivot" type="Node3D" parent="."]

[node name="VerticalPivot" type="Node3D" parent="HorizontalPivot"]

[node name="RigPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="DashComponent" parent="RigPivot" node_paths=PackedStringArray("Player") instance=ExtResource("3_qo22u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.111378, 0)
Player = NodePath("../..")

[node name="Rig" parent="RigPivot" instance=ExtResource("2_lcasi")]

[node name="Skeleton3D" parent="RigPivot/Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(0.0151129, 0.88363, -0.0269397)
bones/1/rotation = Quaternion(-0.0534706, 0.000428518, 0.00553635, 0.998554)
bones/2/position = Vector3(2.24026e-09, 0.144522, -7.84893e-10)
bones/2/rotation = Quaternion(0.00612196, -0.00230924, -0.018132, 0.999814)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(1.10926e-09, 0.193231, 7.08019e-09)
bones/3/rotation = Quaternion(-0.156879, -0.0015001, 0.0134306, 0.987525)
bones/4/position = Vector3(-2.59469e-09, 0.0888915, 8.7228e-09)
bones/4/rotation = Quaternion(0.336553, -0.000748518, 0.018469, 0.941483)
bones/6/rotation = Quaternion(-0.16883, -0.00187207, -0.019071, 0.985459)
bones/7/position = Vector3(0.0151129, 0.88363, -0.0269396)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(0.0151129, 0.88363, -0.0269397)
bones/9/position = Vector3(0.146257, 0.949497, -0.0124172)
bones/9/rotation = Quaternion(0.983741, 0.0127138, -0.0290504, 0.176769)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(-1.85724e-08, 0.264648, 2.78358e-09)
bones/10/rotation = Quaternion(-5.25009e-09, -0.00333968, 1.12896e-08, 0.999995)
bones/11/position = Vector3(-3.27985e-08, 0.264648, 1.46945e-08)
bones/11/rotation = Quaternion(0.57881, -0.00275028, 0.0047859, 0.815444)
bones/11/scale = Vector3(1, 1, 1)
bones/12/position = Vector3(1.6316e-08, 0.224616, 3.55915e-08)
bones/12/rotation = Quaternion(-6.1019e-09, -0.00377033, 3.80265e-08, 0.999993)
bones/13/position = Vector3(-1.95106e-08, 0.224617, 1.30025e-08)
bones/13/rotation = Quaternion(-0.711054, 0.0196281, 0.00127772, 0.702862)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-1.82153e-08, 0.139878, 4.97419e-09)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(-0.116031, 0.949497, -0.0124172)
bones/15/rotation = Quaternion(0.977125, -0.00125401, 0.0284081, 0.210754)
bones/15/scale = Vector3(1, 1, 1)
bones/16/position = Vector3(-2.54731e-09, 0.265126, -3.12356e-08)
bones/16/rotation = Quaternion(-2.14184e-08, 0.00399334, -2.6059e-09, 0.999992)
bones/17/position = Vector3(1.04344e-08, 0.265126, 3.36415e-09)
bones/17/rotation = Quaternion(0.46835, 0.00400733, -0.00234938, 0.883531)
bones/18/position = Vector3(2.03474e-10, 0.225128, -8.39728e-09)
bones/18/rotation = Quaternion(-1.8839e-08, -0.00949195, 1.18006e-08, 0.999955)
bones/19/position = Vector3(-1.10926e-08, 0.225128, 8.20573e-09)
bones/19/rotation = Quaternion(-0.718374, -0.029372, 0.00657593, 0.695006)
bones/20/position = Vector3(-3.42711e-09, 0.139878, -6.71241e-09)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0.0365582, 1.39884, 0.0802968)
bones/21/rotation = Quaternion(-0.478326, -0.258593, -0.406546, 0.734203)
bones/22/position = Vector3(0.200826, 1.4375, 0.0179116)
bones/22/rotation = Quaternion(-0.0216172, -0.0875536, 0.987256, -0.131124)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(-5.16355e-09, 0.142745, -5.01162e-08)
bones/23/rotation = Quaternion(8.47351e-08, -0.0372135, -1.59785e-08, 0.999307)
bones/24/rotation = Quaternion(0.423575, -0.0461137, -0.135727, 0.894447)
bones/25/rotation = Quaternion(8.33997e-08, 0.0161988, 5.1743e-08, 0.999869)
bones/26/position = Vector3(2.01609e-08, 0.126358, 4.09449e-09)
bones/26/rotation = Quaternion(0.00116476, 0.0160734, -0.12469, 0.992065)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.0261734, 0.852498, 0.165531, 0.495137)
bones/27/scale = Vector3(1, 1, 1)
bones/28/scale = Vector3(1, 1, 1)
bones/29/scale = Vector3(1, 1, 1)
bones/30/scale = Vector3(1, 1, 1)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(0.592004, -0.0381349, -0.0906988, 0.799907)
bones/33/rotation = Quaternion(0.0679868, 0.741091, 0.0489765, 0.666156)
bones/33/scale = Vector3(1, 1, 1)
bones/35/scale = Vector3(1, 1, 1)
bones/36/scale = Vector3(1, 1, 1)
bones/37/scale = Vector3(1, 1, 1)
bones/38/scale = Vector3(1, 1, 1)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.652643, -0.00308126, -0.00421075, 0.757647)
bones/41/scale = Vector3(1, 1, 1)
bones/42/scale = Vector3(1, 1, 1)
bones/43/scale = Vector3(1, 1, 1)
bones/44/rotation = Quaternion(0.715385, 0.0353061, 0.0573144, 0.695481)
bones/44/scale = Vector3(1, 1, 1)
bones/46/position = Vector3(7.0666e-05, 1.3988, 0.0802095)
bones/46/rotation = Quaternion(-0.492877, 0.230284, 0.385296, 0.745379)
bones/47/position = Vector3(-0.158191, 1.43728, 0.0051502)
bones/47/rotation = Quaternion(-0.0664144, -0.160787, 0.971369, 0.161798)
bones/47/scale = Vector3(1, 1, 1)
bones/48/rotation = Quaternion(-2.00133e-08, 0.0353177, -4.27063e-08, 0.999376)
bones/49/position = Vector3(1.43399e-08, 0.143561, 1.20471e-08)
bones/49/rotation = Quaternion(0.329334, 0.0417714, 0.0923095, 0.938762)
bones/49/scale = Vector3(1, 1, 1)
bones/50/rotation = Quaternion(-5.2902e-08, -0.00976684, -9.73869e-08, 0.999952)
bones/51/rotation = Quaternion(0.0143563, -0.00951702, 0.0150693, 0.999738)
bones/51/scale = Vector3(1, 1, 1)
bones/52/scale = Vector3(1, 1, 1)
bones/53/scale = Vector3(1, 1, 1)
bones/54/scale = Vector3(1, 1, 1)
bones/55/scale = Vector3(1, 0.999999, 1)
bones/56/scale = Vector3(1, 1, 1)
bones/57/rotation = Quaternion(0.592004, 0.0381346, 0.0906991, 0.799907)
bones/58/rotation = Quaternion(0.0679866, -0.741091, -0.0489766, 0.666155)
bones/58/scale = Vector3(1, 1, 1)
bones/59/rotation = Quaternion(0.138771, -0.704916, 0.15571, 0.677932)
bones/59/scale = Vector3(1, 1, 1)
bones/62/scale = Vector3(1, 1, 1)
bones/63/scale = Vector3(1, 1, 1)
bones/64/scale = Vector3(1, 1, 1)
bones/66/rotation = Quaternion(-0.0684178, -0.72411, -0.0332339, 0.685477)
bones/68/scale = Vector3(1, 1, 1)
bones/69/scale = Vector3(1, 1, 1)
bones/70/scale = Vector3(1, 1, 1)
bones/71/position = Vector3(0.138882, 1.32384, 0.00581748)
bones/71/rotation = Quaternion(-0.00132571, 0.579805, 0.814754, 8.79861e-06)
bones/72/position = Vector3(-0.101705, 1.32356, 0.00524193)
bones/72/rotation = Quaternion(-0.00132571, 0.579746, 0.814796, 8.70305e-06)

[node name="RightHandBone" parent="RigPivot/Rig" index="2"]
transform = Transform3D(-0.970898, -0.218362, -0.0983661, 0.160783, -0.898697, 0.408035, -0.1775, 0.380344, 0.907652, -0.304467, 0.9498, -0.00206788)

[node name="LeftHandBone" parent="RigPivot/Rig" index="3"]
transform = Transform3D(-0.968858, -0.244936, -0.0363396, 0.159729, -0.730349, 0.664136, -0.189212, 0.637649, 0.746728, 0.276472, 0.976325, 0.136944)

[node name="RayAttachment" type="BoneAttachment3D" parent="RigPivot/Rig"]
transform = Transform3D(-0.970898, -0.218362, -0.0983661, 0.160783, -0.898697, 0.408035, -0.1775, 0.380344, 0.907652, -0.304467, 0.9498, -0.00206788)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="RayCast3D" type="RayCast3D" parent="RigPivot/Rig/RayAttachment"]
unique_name_in_owner = true
transform = Transform3D(-0.0663414, 0.0388503, 0.99704, 0.973649, 0.221024, 0.0561726, -0.218188, 0.974493, -0.0524897, -0.0423987, 0.0828008, -0.0115712)
target_position = Vector3(0, 1, 0)
collision_mask = 8
script = ExtResource("4_esjuq")

[node name="AreaAttack" parent="RigPivot" instance=ExtResource("6_s07e6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1)
collision_mask = 8

[node name="UserInterface" parent="." node_paths=PackedStringArray("Player") instance=ExtResource("8_4ymuf")]
Player = NodePath("..")

[editable path="RigPivot/Rig"]
[editable path="RigPivot/Rig/CharacterRig"]
